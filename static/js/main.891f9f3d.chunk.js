(this["webpackJsonpgh-pages-deploy"]=this["webpackJsonpgh-pages-deploy"]||[]).push([[0],{127:function(e,t,n){},132:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),o=n.n(r),i=(n(127),n(244)),s=n(243),l=n(26),u=(n(132),n(109)),j=n(247),d=Object(u.a)({overrides:{MuiTypography:{h1:{fontSize:"3rem"},h2:{fontSize:"3rem"},body1:{fontSize:"1.5rem",color:"black"}}},palette:{background:{default:"rgba(228, 241, 254, 1)"}},typography:{allVariants:{fontFamily:"Quicksand"},body1:{fontSize:"1.5rem",color:"black"}}}),b={light:Object(j.a)(d),dark:Object(u.a)({palette:{type:"dark",background:{default:"#001528"}},typography:{allVariants:{fontFamily:"Quicksand"},body1:{color:"white"}}})};function f(e){return b[e]}var h=n(33),O=n(16),m=n(231),p=n(238),x=n(94),v=n.n(x),g=n(95),y=n.n(g),C="https://dataservice.accuweather.com",E="".concat(C,"/currentconditions/v1"),S="".concat(C,"/locations/v1/cities/autocomplete"),T="".concat(C,"/forecasts/v1/daily/5day"),w="".concat(C,"/locations/v1/cities/geoposition/search?toplevel=true"),I=y.a.create({params:{apikey:"FkrYk6dbSuq0QWeEyyUgtdlPp83FibOn"}});function D(e,t,n){return new Promise((function(a,c){return I[e](t,n).then((function(e){return a(e.data)})).catch((function(e){var t,n,a,r;c((null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Something went wrong. Please try again later")}))}))}var k=n(68),N=n.n(k),R=n(17),F=n(96),W="SET_CURRENT_WEATHER",z="ADD_FAVORITE",A="REMOVE_FAVORITE",L="SET_ERROR",_="SET_TEMP_MEASURE",M=function(e){return{type:L,payload:{message:e.message,variant:e.variant}}},P=function(e){return{type:W,payload:e}},V=function(e){return function(){var t=Object(F.a)(N.a.mark((function t(n){var a,c,r,o,i;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.lat&&(c=(a=e).lat,r=a.lng,D("get","".concat(w,"&q=").concat(c,",").concat(r)).then((function(t){e=t})).catch((function(e){return M({message:e,variant:"error"})}))),o=D("get","".concat(E,"/").concat(e.Key)),i=D("get","".concat(T,"/").concat(e.Key)),Promise.all([o,i]).then((function(t){var a={current:t[0][0],forecast:t[1],location:Object(R.a)({},e)};localStorage.setItem("CURRENT_WEATHER",JSON.stringify(a)),n(P(a))})).catch((function(e){return n(M({message:e,variant:"error"}))}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=n(2),H=function(){return Object(B.jsx)("div",{children:"Something went wrong please try again later"})},K=n(236),U=n(237),Y=n(245),Q=n(246),q=function(e){switch(e){case 1:case 2:case 3:case 4:case 5:return{icon:"CLEAR_DAY",color:"rgba( 252, 212, 64)"};case 6:return{icon:"PARTLY_CLOUDY_DAY",color:"#6E6E6C"};case 7:case 8:return{icon:"CLOUDY",color:"#6E6E6C"};case 11:return{icon:"FOG",color:"#6E6E6C"};case 12:case 13:case 14:case 15:case 16:case 17:case 18:return{icon:"RAIN",color:"#81a0ae"};case 25:case 26:case 29:return{icon:"SLEET",color:" #00008B"};case 19:case 22:return{icon:"SNOW",color:" #000"};case 20:case 21:case 23:case 32:return{icon:"WIND",color:" #0000CD"};case 33:case 34:return{icon:"CLEAR_NIGHT",color:" #D3D3D3"};default:return{icon:"PARTLY_CLOUDY_NIGHT",color:" #D3D3D3"}}},J=Object(m.a)((function(e){return{root:{},optionContainer:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}}})),G=function(e){var t=e.setQuery,n=e.handleSubmit,a=e.locations,c=J();return Object(B.jsx)("form",{onSubmit:n,children:Object(B.jsx)(Q.a,{id:"country-select-demo",options:a||[],autoHighlight:!0,onChange:function(e,t){return n(e,t)},getOptionLabel:function(e){return e.LocalizedName},renderOption:function(e){return Object(B.jsxs)("div",{className:c.optionContainer,children:[Object(B.jsx)(K.a,{variant:"body1",children:e.LocalizedName}),Object(B.jsx)(U.a,{title:e.Country.LocalizedName,children:Object(B.jsx)("img",{alt:"flag",src:"".concat((t=e.Country.ID.toLowerCase(),"https://flagcdn.com/16x12/".concat(t,".png")))})})]});var t},renderInput:function(e){return Object(B.jsx)(Y.a,Object(R.a)(Object(R.a)({},e),{},{onChange:function(e){return t(e.target.value)},placeholder:"Choose a city",variant:"outlined",inputProps:Object(R.a)({},e.inputProps)}))}})})},X=n(235),Z=n(102),$=n.n(Z),ee=n(101),te=n.n(ee),ne=n(99),ae=n.n(ne),ce=function(e){var t=e.icon,n=e.color,a=e.size;return Object(B.jsx)(ae.a,{icon:t,color:n,size:a,animate:!0})},re=n(199),oe=n(13),ie=n(38),se=Object(m.a)((function(e){return{root:{flexDirection:"column",display:"flex",alignItems:"center",justifyContent:"space-around",border:"1px solid black",height:300,width:250,margin:e.spacing(1.5)}}})),le=function(e){var t=e.item,n=e.measure,a=t.location,c=t.current,r=t.current.Temperature,o=r.Metric,i=r.Imperial,s=a.Key,l=a.LocalizedName,u=c.WeatherIcon,j=c.WeatherText,d=q(u),b=(d.color,d.icon,se());return Object(B.jsx)(p.a,{children:Object(B.jsxs)(ie.b,{to:"/?Key=".concat(s),className:b.root,children:[Object(B.jsx)(K.a,{variant:"body1",children:l}),Object(B.jsxs)(K.a,{variant:"body1",children:[n?o.Value:i.Value,"\xb0"]}),Object(B.jsx)(K.a,{variant:"body1",children:j})]})})},ue=Object(m.a)((function(e){var t;return{root:(t={},Object(oe.a)(t,e.breakpoints.down("sm"),{flexDirection:"column"}),Object(oe.a)(t,"display","flex"),Object(oe.a)(t,"flexWrap","wrap"),Object(oe.a)(t,"height","calc(100vh - 102px)"),Object(oe.a)(t,"justifyContent","center"),Object(oe.a)(t,"alignItems","center"),t)}})),je=function(e){var t=e.items,n=e.measure,a=ue();return Object(B.jsx)("div",{className:a.root,children:t.map((function(e){return Object(B.jsx)(le,{measure:n,item:e})}))})},de=n(100),be=n.n(de),fe=Object(m.a)((function(e){var t,n;return{root:(t={},Object(oe.a)(t,e.breakpoints.down("sm"),{width:"100%",flexDirection:"row",padding:e.spacing(0,2.25),borderBottom:"1px solid rgba(144,144,144,.4)"}),Object(oe.a)(t,"margin",e.spacing(1)),Object(oe.a)(t,"display","flex"),Object(oe.a)(t,"alignItems","center"),Object(oe.a)(t,"flexDirection","column"),Object(oe.a)(t,"justifyContent","space-between"),t),tempContainer:(n={},Object(oe.a)(n,e.breakpoints.up("sm"),{flex:1}),Object(oe.a)(n,"display","flex"),Object(oe.a)(n,"alignItems","center"),Object(oe.a)(n,"justifyContent","flex-end"),n),day:{flex:1,textAlign:"left"}}})),he=function(e){e.text;var t=e.date,n=e.minTemp,a=e.maxTemp,c=e.id,r=e.measure;n=r?Math.floor(5/9*(n-32)):n,a=r?Math.floor(5/9*(a-32)):a;var o=fe(),i=q(c),s=i.icon,l=i.color;return Object(B.jsxs)("div",{className:o.root,children:[Object(B.jsx)(K.a,{className:o.day,variant:"body1",children:Object(B.jsx)(be.a,{format:"dddd",children:t})}),Object(B.jsx)(ce,{icon:s,size:30,color:l}),Object(B.jsxs)("div",{style:{flex:1},className:o.tempContainer,children:[Object(B.jsxs)(K.a,{children:[n,"\xb0"]})," ",Object(B.jsx)("span",{children:"-"}),Object(B.jsxs)(K.a,{children:[a,"\xb0"]})]})]})},Oe=Object(m.a)((function(e){var t;return{root:(t={},Object(oe.a)(t,e.breakpoints.down("sm"),{flexDirection:"column",justifyContent:"space-between",width:"100%",flex:1}),Object(oe.a)(t,"display","flex"),Object(oe.a)(t,"alignItems","center"),t)}})),me=function(e){var t=e.items,n=e.measure,a=Oe();return t.length&&Object(B.jsx)("div",{className:a.root,children:t.map((function(e,t){return Object(B.jsx)(he,{measure:n,minTemp:e.Temperature.Minimum.Value,maxTemp:e.Temperature.Maximum.Value,date:e.Date,text:e.Day.IconPhrase,icon:e.Day.Icon},t)}))})},pe=function(e){return e.items.length?Object(B.jsx)(B.Fragment,{children:"forecasts"===e.type?Object(B.jsx)(me,Object(R.a)({},e)):Object(B.jsx)(je,Object(R.a)({},e))}):Object(B.jsx)("div",{children:Object(B.jsxs)(K.a,{style:{height:"calc(100vh - 102px)"},variant:"h2",children:["No ",e.type," found.",Object(B.jsx)("br",{}),Object(B.jsx)("hr",{})]})})},xe=Object(m.a)((function(e){return{weatherContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:e.spacing(3),position:"relative",padding:e.spacing(1,0),flex:1,overflow:"hidden"},menuIcon:{display:"flex",position:"absolute",flexDirection:"column",alignItems:"center",right:8,top:8,"& > button":{padding:0}},weatherIconContainer:{}}})),ve=function(e){var t=e.weather,n=e.handleAddFavorite,c=e.saved,r=e.handleRemoveFavorite,o=xe(),i={entering:{opacity:.8,transform:"scale(1.2)",borderRadius:"100%"},exiting:{opacity:.8,transform:"scale(1.2)",borderRadius:"100%"},entered:{opacity:1},exited:{opacity:1}},s={transition:"".concat(300,"ms ease-in-out"),opacity:0},l=Object(a.useState)(""),u=Object(h.a)(l,2),j=u[0],d=u[1],b=t.current,f=t.forecast,O=t.location,m=t.measure,p=b.WeatherText,x=b.WeatherIcon,v=O.LocalizedName,g=O.Key,y=q(x),C=y.icon,E=y.color;return Object(a.useEffect)((function(){var e=t.current.Temperature,n=e.Metric,a=e.Imperial,c=m?n.Value:a.Value;d(c)}),[m]),Object(B.jsxs)("section",{className:o.weatherContainer,children:[Object(B.jsx)(re.a,{timeout:300,in:!c,children:function(e){return Object(B.jsxs)("div",{style:Object(R.a)(Object(R.a)({},s),i[e]),className:o.menuIcon,children:[Object(B.jsx)(X.a,{onClick:function(){return c?r(g):n(t)},children:c?Object(B.jsx)(te.a,{htmlColor:"lightblue"}):Object(B.jsx)($.a,{})}),Object(B.jsx)(K.a,{style:{fontSize:12,fontWeight:600,minWidth:48},children:c?"Unsave ":"Save"})]})}}),Object(B.jsx)(K.a,{variant:"h3",children:v}),Object(B.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(B.jsx)(ce,{size:30,color:E,icon:C}),Object(B.jsx)(K.a,{children:p})]}),Object(B.jsxs)(K.a,{variant:"h1",children:[j,"\xb0"]}),Object(B.jsx)(pe,{measure:m,type:"forecasts",items:f.DailyForecasts,headline:f.Headline})]})},ge=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",height:"calc(100vh - 102px)"}}})),ye=function(){var e=ge(),t=Object(l.b)(),n=Object(l.c)((function(e){return e})),c=n.currentWeather,r=n.favorites,o=Object(a.useState)(!0),i=Object(h.a)(o,2),s=i[0],u=i[1];Object(a.useEffect)((function(){c.current&&u(!1)}),[c]),Object(a.useEffect)((function(){var e,t=null===c||void 0===c||null===(e=c.location)||void 0===e?void 0:e.Key;if(t&&r.length>0){var n=r.some((function(e){return e.location.Key===t}));g(n)}else g(!1)}),[r,c.location]);var j=Object(a.useState)(""),d=Object(h.a)(j,2),b=d[0],f=d[1],O=Object(a.useState)(!1),m=Object(h.a)(O,2),x=m[0],g=m[1],y=Object(a.useState)([]),C=Object(h.a)(y,2),E=C[0],T=C[1];return Object(B.jsxs)(p.a,{className:e.root,children:[Object(B.jsx)(G,{locations:E,handleSubmit:function(e,n){e.preventDefault(),n?t(V(n)):D("get","".concat(S,"?q=").concat(b)).then((function(e){return T(e)})).catch((function(e){return t(M({message:e}))}))},setQuery:f}),s?Object(B.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(B.jsx)(v.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:13e3})}):c.current?Object(B.jsx)(ve,{saved:x,handleAddFavorite:function(e){t(function(e){return{type:z,payload:e}}(e))},handleRemoveFavorite:function(e){t(function(e){return{type:A,payload:e}}(e))},weather:c}):Object(B.jsx)(H,{})]})},Ce=function(){var e=Object(l.c)((function(e){return e})),t=e.favorites,n=e.currentWeather.measure;return Object(B.jsx)(pe,{type:"favorites",measure:n,items:t})},Ee=n(103),Se=n.n(Ee),Te=n(241),we=n(239),Ie=n(240),De=n(242),ke=Object(m.a)((function(e){return{root:{height:70,backgroundColor:"rgba(30, 139, 195, 1)",marginBottom:e.spacing(4)},links:{height:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end","& > a":{height:"100%",margin:e.spacing(0,2),display:"block",padding:"10px 0","& > div":{display:"flex",flexDirection:"column",alignItems:"center","& > p":{fontSize:"xx-small"}}}}}})),Ne=function(e){e.open;var t=e.setOpen,n=ke();return Object(B.jsx)("div",{className:n.root,children:Object(B.jsxs)(p.a,{className:n.links,children:[Object(B.jsx)(ie.c,{activeStyle:{borderBottom:"4px solid"},exact:!0,to:"/",children:Object(B.jsxs)("div",{children:[Object(B.jsx)(we.a,{}),"Home"]})}),Object(B.jsx)(ie.c,{activeStyle:{borderBottom:"4px solid"},exact:!0,to:"/favorites",children:Object(B.jsxs)("div",{children:[Object(B.jsx)(Ie.a,{}),"Favorites"]})}),Object(B.jsx)(Te.a,{onClick:function(e){return t(e.target)},children:Object(B.jsxs)("div",{children:[Object(B.jsx)(De.a,{}),Object(B.jsx)(K.a,{style:{fontSize:"xx-small"},children:"Settings"})]})})]})})},Re=n(62),Fe=n(110),We=n(248),ze=n(104),Ae=n.n(ze),Le=n(105),_e=n.n(Le),Me=Object(m.a)((function(e){return{root:{"& ul":{display:"flex",flexDirection:"column",alignItems:"center","& > li":{width:"100%",display:"flex",justifyContent:"space-between"}}}}})),Pe=function(e){var t=e.open,n=e.setOpen,a=e.handleMeasureChange,c=e.toggleTheme,r=e.measure,o=e.theme,i=Me();return Object(B.jsxs)(Fe.a,{className:i.root,anchorEl:t,onClose:function(){return n(null)},open:Boolean(t),children:[Object(B.jsxs)(We.a,{children:[Object(B.jsx)(K.a,{children:"Temperature:"}),Object(B.jsx)(Ae.a,{offColor:"#f00",onColor:"#00f",onChange:a,checked:r,checkedIcon:Object(B.jsx)("div",{style:{fontWeight:800,position:"relative",left:"10px"},children:"F"}),uncheckedIcon:Object(B.jsx)("div",{style:{fontWeight:800},children:"C"})})]}),Object(B.jsxs)(We.a,{children:[Object(B.jsx)(K.a,{children:"Theme:"}),Object(B.jsx)(_e.a,{checked:"dark"===o,onChange:c,size:60})]})]})};var Ve=Object(O.f)((function(e){var t=e.location,n=Object(Re.b)().enqueueSnackbar,c=Object(l.b)(),r=Object(a.useState)(null),o=Object(h.a)(r,2),i=o[0],s=o[1],u=Object(l.c)((function(e){return e})),j=u.error,d=u.favorites,b=u.currentWeather,f=u.theme;Object(a.useEffect)((function(){j.message&&n(j.message,{variant:j.variant,anchorOrigin:{vertical:"top",horizontal:"center"}})}),[j]),Object(a.useEffect)((function(){var e=Se.a.parse(t.search).Key,n=d.find((function(t){return t.location.Key===e}));n&&e&&c(V(n.location))}),[t]),Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=JSON.parse(localStorage.getItem("CURRENT_WEATHER"));if(t)c(P(t));else{var n=e.coords,a=n.latitude,r=n.longitude;c(V({lat:a,lng:r}))}}))}),[]);var m=[{path:"/",Component:ye},{path:"/favorites",Component:Ce}];return Object(B.jsxs)("div",{children:[Object(B.jsx)(Ne,{setOpen:s}),Object(B.jsx)(Pe,{theme:f,toggleTheme:function(){c({type:"SET_THEME"})},handleMeasureChange:function(e){c({type:_})},measure:b.measure,open:i,setOpen:s}),Object(B.jsx)(O.c,{location:t,children:m.map((function(e){var t=e.path,n=e.Component;return Object(B.jsx)(O.a,{exact:!0,path:t,component:n},t)}))})]})}));var Be=function(){var e=Object(l.c)((function(e){return e})).theme;return Object(B.jsx)("div",{className:"App",children:Object(B.jsxs)(s.a,{theme:f(e),children:[Object(B.jsx)(i.a,{}),Object(B.jsx)(Ve,{})]})})},He=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,249)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},Ke=n(36),Ue=n(107),Ye={current:"",forecast:"",location:"",measure:!0},Qe=n(111),qe=Object(Ke.combineReducers)({currentWeather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:var n=t.payload,a=n.current,c=n.forecast,r=n.location;return Object(R.a)(Object(R.a)({},e),{},{current:a,forecast:c,location:r});case _:return Object(R.a)(Object(R.a)({},e),{},{measure:!e.measure});default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return[].concat(Object(Qe.a)(e),[t.payload]);case A:var n=e.filter((function(e){return e.location.Key!==t.payload}));return n;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"",variant:"error"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(R.a)(Object(R.a)({},e),{},{message:t.payload.message,variant:t.payload.variant});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return"light"===e?"dark":"light";default:return e}}}),Je=n(108);var Ge=Object(Ke.createStore)(qe,Object(Ue.composeWithDevTools)(Object(Ke.applyMiddleware)(Je.a)));o.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(Re.a,{maxSnack:1,children:Object(B.jsx)(l.a,{store:Ge,children:Object(B.jsx)(ie.a,{basename:"/Daniel-Borisov-22-4-2020",children:Object(B.jsx)(Be,{})})})})}),document.getElementById("root")),He()}},[[193,1,2]]]);
//# sourceMappingURL=main.891f9f3d.chunk.js.map