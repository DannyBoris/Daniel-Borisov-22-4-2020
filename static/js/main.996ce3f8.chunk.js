(this["webpackJsonpgh-pages-deploy"]=this["webpackJsonpgh-pages-deploy"]||[]).push([[0],{127:function(e,t,n){},132:function(e,t,n){},193:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(9),o=n.n(r),i=(n(127),n(234)),s=n(243),l=n(26),u=(n(132),n(109)),j=n(246),d=Object(u.a)({overrides:{MuiTypography:{h1:{fontSize:"3rem"},h2:{fontSize:"3rem"},body1:{fontSize:"1.5rem"}}},palette:{background:{default:"rgba(228, 241, 254, 1)"}},typography:{allVariants:{fontFamily:"Quicksand"}}}),b={light:Object(j.a)(d),dark:Object(u.a)({palette:{type:"dark",background:{default:"#001528"}},typography:{}})};function f(e){return b[e]}var h=n(13),O=n(33),p=n(16),m=n(231),x=n(238),v=n(94),g=n.n(v),y=n(95),C=n.n(y),E="http://dataservice.accuweather.com",T="".concat(E,"/currentconditions/v1"),S="".concat(E,"/locations/v1/cities/autocomplete"),w="".concat(E,"/forecasts/v1/daily/5day"),D="".concat(E,"/locations/v1/cities/geoposition/search?toplevel=true"),I=C.a.create({params:{apikey:"Ah6wnyzTXVDMr9FPaQCavVH0I8PLVVoU"}});function k(e,t,n){return new Promise((function(a,c){return I[e](t,n).then((function(e){return a(e.data)})).catch((function(e){var t,n,a,r;c((null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(r=a.data)||void 0===r?void 0:r.error)||"Something went wrong. Please try again later")}))}))}var N=n(68),R=n.n(N),F=n(17),A=n(96),z="SET_CURRENT_WEATHER",L="ADD_FAVORITE",_="REMOVE_FAVORITE",M="SET_ERROR",W="SET_TEMP_MEASURE",P=function(e){return{type:M,payload:{message:e.message,variant:e.variant}}},V=function(e){return{type:z,payload:e}},H=function(e){return function(){var t=Object(A.a)(R.a.mark((function t(n){var a,c,r,o,i,s;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.lat){t.next=6;break}return c=(a=e).lat,r=a.lng,t.next=4,k("get","".concat(D,"&q=").concat(c,",").concat(r));case 4:o=t.sent,e=o;case 6:i=k("get","".concat(T,"/").concat(e.Key)),s=k("get","".concat(w,"/").concat(e.Key)),Promise.all([i,s]).then((function(t){var a={current:t[0][0],forecast:t[1],location:Object(F.a)({},e)};localStorage.setItem("CURRENT_WEATHER",JSON.stringify(a)),n(V(a))})).catch((function(e){return n(P({message:e,variant:"error"}))}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=n(2),K=function(){return Object(B.jsx)("div",{children:"Something went wrong please try again later"})},U=n(236),Y=n(237),J=n(244),Q=n(245),q=function(e){switch(e){case 1:case 2:case 3:case 4:case 5:return{icon:"CLEAR_DAY",color:"rgba( 252, 212, 64)"};case 6:return{icon:"PARTLY_CLOUDY_DAY",color:"#6E6E6C"};case 7:case 8:return{icon:"CLOUDY",color:"#6E6E6C"};case 11:return{icon:"FOG",color:"#6E6E6C"};case 12:case 13:case 14:case 15:case 16:case 17:case 18:return{icon:"RAIN",color:"#81a0ae"};case 25:case 26:case 29:return{icon:"SLEET",color:" #00008B"};case 19:case 22:return{icon:"SNOW",color:" #000"};case 20:case 21:case 23:case 32:return{icon:"WIND",color:" #0000CD"};case 33:case 34:return{icon:"CLEAR_NIGHT",color:" #D3D3D3"};default:return{icon:"PARTLY_CLOUDY_NIGHT",color:" #D3D3D3"}}},G=Object(m.a)((function(e){return{root:{},optionContainer:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}}})),X=function(e){var t=e.setQuery,n=e.handleSubmit,a=e.locations,c=G();return Object(B.jsx)("form",{onSubmit:n,children:Object(B.jsx)(Q.a,{id:"country-select-demo",options:a||[],autoHighlight:!0,onChange:function(e,t){return n(e,t)},getOptionLabel:function(e){return e.LocalizedName},renderOption:function(e){return Object(B.jsxs)("div",{className:c.optionContainer,children:[Object(B.jsx)(U.a,{variant:"body1",children:e.LocalizedName}),Object(B.jsx)(Y.a,{title:e.Country.LocalizedName,children:Object(B.jsx)("img",{alt:"flag",src:"".concat((t=e.Country.ID.toLowerCase(),"https://flagcdn.com/16x12/".concat(t,".png")))})})]});var t},renderInput:function(e){return Object(B.jsx)(J.a,Object(F.a)(Object(F.a)({},e),{},{onChange:function(e){return t(e.target.value)},placeholder:"Choose a city",variant:"outlined",inputProps:Object(F.a)({},e.inputProps)}))}})})},Z=n(235),$=n(102),ee=n.n($),te=n(101),ne=n.n(te),ae=n(99),ce=n.n(ae),re=function(e){var t=e.icon,n=e.color,a=e.size;return Object(B.jsx)(ce.a,{icon:t,color:n,size:a,animate:!0})},oe=n(199),ie=n(38),se=Object(m.a)((function(e){return{root:{flexDirection:"column",display:"flex",alignItems:"center",justifyContent:"space-around",border:"1px solid black",height:300,width:250,margin:e.spacing(1.5)}}})),le=function(e){e.item;var t=se();return Object(B.jsxs)(ie.b,{to:"/?Key=".concat("f"),className:t.root,children:[Object(B.jsx)(U.a,{variant:"body1",children:"Tel aviv"}),Object(B.jsx)(U.a,{variant:"body1",children:"43\xb0"}),Object(B.jsx)(U.a,{variant:"body1",children:"Sunny"})]})},ue=Object(m.a)((function(e){var t;return{root:(t={},Object(h.a)(t,e.breakpoints.down("sm"),{flexDirection:"column"}),Object(h.a)(t,"display","flex"),Object(h.a)(t,"justifyContent","center"),Object(h.a)(t,"alignItems","center"),t)}})),je=function(e){e.items;var t=ue();return Object(B.jsx)("div",{className:t.root,children:[1,2,3].map((function(e){return Object(B.jsx)(le,{item:e})}))})},de=n(100),be=n.n(de),fe=Object(m.a)((function(e){var t,n;return{root:(t={},Object(h.a)(t,e.breakpoints.down("sm"),{width:"100%",flexDirection:"row",padding:e.spacing(0,2.25),borderBottom:"1px solid rgba(144,144,144,.4)"}),Object(h.a)(t,"margin",e.spacing(1)),Object(h.a)(t,"display","flex"),Object(h.a)(t,"alignItems","center"),Object(h.a)(t,"flexDirection","column"),Object(h.a)(t,"justifyContent","space-between"),t),tempContainer:(n={},Object(h.a)(n,e.breakpoints.up("sm"),{flex:1}),Object(h.a)(n,"display","flex"),Object(h.a)(n,"alignItems","center"),Object(h.a)(n,"justifyContent","flex-end"),n),day:{flex:1,textAlign:"left"}}})),he=function(e){e.text;var t=e.date,n=e.minTemp,a=e.maxTemp,c=e.id,r=e.measure;n=r?Math.floor(5/9*(n-32)):n,a=r?Math.floor(5/9*(a-32)):a;var o=fe(),i=q(c),s=i.icon,l=i.color;return Object(B.jsxs)("div",{className:o.root,children:[Object(B.jsx)(U.a,{className:o.day,variant:"body1",children:Object(B.jsx)(be.a,{format:"dddd",children:t})}),Object(B.jsx)(re,{icon:s,size:30,color:l}),Object(B.jsxs)("div",{style:{flex:1},className:o.tempContainer,children:[Object(B.jsxs)(U.a,{children:[n,"\xb0"]})," ",Object(B.jsx)("span",{children:"-"}),Object(B.jsxs)(U.a,{children:[a,"\xb0"]})]})]})},Oe=Object(m.a)((function(e){var t;return{root:(t={},Object(h.a)(t,e.breakpoints.down("sm"),{flexDirection:"column",justifyContent:"space-between",width:"100%",flex:1}),Object(h.a)(t,"display","flex"),Object(h.a)(t,"alignItems","center"),t)}})),pe=function(e){var t=e.items,n=e.measure,a=Oe();return t.length&&Object(B.jsx)("div",{className:a.root,children:t.map((function(e,t){return Object(B.jsx)(he,{measure:n,minTemp:e.Temperature.Minimum.Value,maxTemp:e.Temperature.Maximum.Value,date:e.Date,text:e.Day.IconPhrase,icon:e.Day.Icon},t)}))})},me=function(e){return Object(B.jsx)(B.Fragment,{children:"forecasts"===e.type?Object(B.jsx)(pe,Object(F.a)({},e)):Object(B.jsx)(je,Object(F.a)({},e))})},xe=Object(m.a)((function(e){return{weatherContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:e.spacing(3),position:"relative",padding:e.spacing(1,0),flex:1,overflow:"hidden"},menuIcon:{display:"flex",position:"absolute",flexDirection:"column",alignItems:"center",right:8,top:8,"& > button":{padding:0}},weatherIconContainer:{}}})),ve=function(e){var t=e.weather,n=e.handleAddFavorite,c=e.saved,r=e.handleRemoveFavorite,o=xe(),i={entering:{opacity:.8,transform:"scale(1.2)",borderRadius:"100%"},exiting:{opacity:.8,transform:"scale(1.2)",borderRadius:"100%"},entered:{opacity:1},exited:{opacity:1}},s={transition:"".concat(300,"ms ease-in-out"),opacity:0},l=Object(a.useState)(""),u=Object(O.a)(l,2),j=u[0],d=u[1],b=t.current,f=t.forecast,h=t.location,p=t.measure,m=b.WeatherText,x=b.WeatherIcon;console.log(x);var v=h.LocalizedName,g=h.Key,y=q(x),C=y.icon,E=y.color;return console.log(C,E),Object(a.useEffect)((function(){var e=t.current.Temperature,n=e.Metric,a=e.Imperial,c=p?n.Value:a.Value;d(c)}),[p]),Object(B.jsxs)("section",{className:o.weatherContainer,children:[Object(B.jsx)(oe.a,{timeout:300,in:!c,children:function(e){return Object(B.jsxs)("div",{style:Object(F.a)(Object(F.a)({},s),i[e]),className:o.menuIcon,children:[Object(B.jsx)(Z.a,{onClick:function(){return c?r(g):n(t)},children:c?Object(B.jsx)(ne.a,{htmlColor:"lightblue"}):Object(B.jsx)(ee.a,{})}),Object(B.jsx)(U.a,{style:{fontSize:12,fontWeight:600,minWidth:48},children:c?"Unsave ":"Save"})]})}}),Object(B.jsx)(U.a,{variant:"h3",children:v}),Object(B.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(B.jsx)(re,{size:30,color:E,icon:C}),Object(B.jsx)(U.a,{children:m})]}),Object(B.jsxs)(U.a,{variant:"h1",children:[j,"\xb0"]}),Object(B.jsx)(me,{measure:p,type:"forecasts",items:f.DailyForecasts,headline:f.Headline})]})},ge=Object(m.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",height:"calc(100% - 105px)"}}})),ye=function(){var e=ge(),t=Object(l.b)(),n=Object(l.c)((function(e){return e})),c=n.currentWeather,r=n.favorites,o=Object(a.useState)(!0),i=Object(O.a)(o,2),s=i[0],u=i[1];Object(a.useEffect)((function(){c.current&&u(!1)}),[c]),Object(a.useEffect)((function(){var e,t=null===c||void 0===c||null===(e=c.location)||void 0===e?void 0:e.Key;if(t&&r.length>0){var n=r.some((function(e){return e.location.Key===t}));v(n)}else v(!1)}),[r,c.location]);var j=Object(a.useState)(""),d=Object(O.a)(j,2),b=d[0],f=d[1],h=Object(a.useState)(!1),p=Object(O.a)(h,2),m=p[0],v=p[1],y=Object(a.useState)([]),C=Object(O.a)(y,2),E=C[0],T=C[1];return Object(B.jsxs)(x.a,{className:e.root,children:[Object(B.jsx)(X,{locations:E,handleSubmit:function(e,n){e.preventDefault(),n?t(H(n)):k("get","".concat(S,"?q=").concat(b)).then((function(e){return T(e)})).catch((function(e){return t(P({message:e}))}))},setQuery:f}),s?Object(B.jsx)(g.a,{type:"Oval",color:"#00BFFF",height:100,width:100,timeout:13e3}):c.current?Object(B.jsx)(ve,{saved:m,handleAddFavorite:function(e){t(function(e){return{type:L,payload:e}}(e))},handleRemoveFavorite:function(e){t(function(e){return{type:_,payload:e}}(e))},weather:c}):Object(B.jsx)(K,{})]})},Ce=function(){var e=Object(l.c)((function(e){return e})).favorites;return Object(B.jsx)(me,{type:"favorites",items:e})},Ee=n(103),Te=n.n(Ee),Se=n(241),we=n(239),De=n(240),Ie=n(242),ke=Object(m.a)((function(e){return{root:{height:70,backgroundColor:"rgba(30, 139, 195, 1)",marginBottom:e.spacing(4)},links:{height:"100%",display:"flex",alignItems:"center",justifyContent:"flex-end","& > a":{margin:e.spacing(0,2),display:"block",padding:"10px 0","& > div":{display:"flex",flexDirection:"column",alignItems:"center","& > p":{fontSize:"xx-small"}}}}}})),Ne=function(e){e.open;var t=e.setOpen,n=ke();return Object(B.jsx)("div",{className:n.root,children:Object(B.jsxs)(x.a,{className:n.links,children:[Object(B.jsx)(ie.c,{activeStyle:{borderBottom:"2px solid"},exact:!0,to:"/",children:Object(B.jsxs)("div",{children:[Object(B.jsx)(we.a,{}),"Home"]})}),Object(B.jsx)(ie.c,{activeStyle:{borderBottom:"2px solid"},exact:!0,to:"/favorites",children:Object(B.jsxs)("div",{children:[Object(B.jsx)(De.a,{}),"Favorites"]})}),Object(B.jsx)(Se.a,{onClick:function(e){return t(e.target)},children:Object(B.jsxs)("div",{children:[Object(B.jsx)(Ie.a,{}),Object(B.jsx)(U.a,{style:{fontSize:"xx-small"},children:"Settings"})]})})]})})},Re=n(62),Fe=n(110),Ae=n(247),ze=n(104),Le=n.n(ze),_e=n(105),Me=n.n(_e),We=Object(m.a)((function(e){return{root:{"& ul":{display:"flex",flexDirection:"column",alignItems:"center","& > li":{width:"100%",display:"flex",justifyContent:"space-between"}}}}})),Pe=function(e){var t=e.open,n=e.setOpen,a=e.handleMeasureChange,c=e.toggleTheme,r=e.measure,o=e.theme,i=We();return Object(B.jsxs)(Fe.a,{className:i.root,anchorEl:t,onClose:function(){return n(null)},open:Boolean(t),children:[Object(B.jsxs)(Ae.a,{children:[Object(B.jsx)(U.a,{children:"Temperature:"}),Object(B.jsx)(Le.a,{offColor:"#f00",onColor:"#00f",onChange:a,checked:r,checkedIcon:Object(B.jsx)("div",{style:{fontWeight:800,position:"relative",left:"10px"},children:"F"}),uncheckedIcon:Object(B.jsx)("div",{style:{fontWeight:800},children:"C"})})]}),Object(B.jsxs)(Ae.a,{children:[Object(B.jsx)(U.a,{children:"Theme:"}),Object(B.jsx)(Me.a,{checked:"dark"===o,onChange:c,size:60})]})]})};var Ve=Object(m.a)((function(e){return{root:{backgroundColor:e.palette.background.default,height:"100vh"}}})),He=Object(p.f)((function(e){var t=e.location,n=Ve(),c=Object(Re.b)().enqueueSnackbar,r=Object(l.b)(),o=Object(a.useState)(null),i=Object(O.a)(o,2),s=i[0],u=i[1],j=Object(l.c)((function(e){return e})),d=j.error,b=j.favorites,f=j.currentWeather,m=j.theme;Object(a.useEffect)((function(){d.message&&c(d.message,{variant:d.variant,anchorOrigin:{vertical:"top",horizontal:"center"}})}),[d]),Object(a.useEffect)((function(){var e=Te.a.parse(t.search).Key,n=b.find((function(t){return t.location.Key===e}));n&&e&&r(H(n.location))}),[t]),Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=JSON.parse(localStorage.getItem("CURRENT_WEATHER"));if(t)r(V(t));else{console.log("fds");var n=e.coords,a=n.latitude,c=n.longitude;r(H({lat:a,lng:c}))}}))}),[]);var x=[{path:"/",Component:ye},{path:"/favorites",Component:Ce}];return Object(B.jsxs)("div",{className:n.root,children:[Object(B.jsx)(Ne,{setOpen:u}),Object(B.jsx)(Pe,Object(h.a)({theme:m,toggleTheme:function(){r({type:"SET_THEME"})},handleMeasureChange:function(e){r({type:W})},measure:f.measure,open:s,setOpen:u},"setOpen",u)),Object(B.jsx)(p.c,{location:t,children:x.map((function(e){var t=e.path,n=e.Component;return Object(B.jsx)(p.a,{exact:!0,path:t,component:n},t)}))})]})}));var Be=function(){var e=Object(l.c)((function(e){return e})).theme;return Object(B.jsx)("div",{className:"App",children:Object(B.jsx)(s.a,{theme:f(e),children:Object(B.jsx)(i.a,{children:Object(B.jsx)(He,{})})})})},Ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,248)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},Ue=n(36),Ye=n(107),Je={current:"",forecast:"",location:"",measure:!0},Qe=n(111),qe=Object(Ue.combineReducers)({currentWeather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:var n=t.payload,a=n.current,c=n.forecast,r=n.location;return Object(F.a)(Object(F.a)({},e),{},{current:a,forecast:c,location:r});case W:return Object(F.a)(Object(F.a)({},e),{},{measure:!e.measure});default:return e}},favorites:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return[].concat(Object(Qe.a)(e),[t.payload]);case _:console.log(e);var n=e.filter((function(e){return e.location.Key!==t.payload}));return n;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:"",variant:"error"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(F.a)(Object(F.a)({},e),{},{message:t.payload.message,variant:t.payload.variant});default:return e}},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_THEME":return"light"===e?"dark":"light";default:return e}}}),Ge=n(108);var Xe=Object(Ue.createStore)(qe,Object(Ye.composeWithDevTools)(Object(Ue.applyMiddleware)(Ge.a)));o.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(Re.a,{maxSnack:1,children:Object(B.jsx)(l.a,{store:Xe,children:Object(B.jsx)(ie.a,{children:Object(B.jsx)(Be,{})})})})}),document.getElementById("root")),Ke()}},[[193,1,2]]]);
//# sourceMappingURL=main.996ce3f8.chunk.js.map